@model  EmlakYonetim.Models.Entity.t_contact
@using EmlakYonetim.Models.Entity

@{
    ViewBag.Title = "Detay";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div style="margin-top:50px">
    <div style="text-align:center">
        <h2 style="margin-top:-25px;">Kontakt Detayları</h2>
        <img src="@Url.Content(Model.Gorsel)" class="rounded-circle" alt="Görsel" width="300" height="200">
    </div>
    <div class="container mt-3" style="text-align:center">
        @if (Model.organizasyonMu)
        {
            <p style="text-align:center">@Model.organizasyonAdi adlı <strong>organizasyonun</strong> iletişim detayları</p>
            <table class="table table-striped table-bordered">
                <thead class="bg-primary text-light">
                    <tr>
                        <th>Organizasyon Adı</th>
                        <th>Vergi NO:</th>
                        <th>Kayıt NO:</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>

                        <td>@Model.organizasyonAdi</td>
                        <td>@Model.vergiNo</td>
                        <td>@Model.kayitNo</td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th>Web Sitesi</th>
                        <th>Cep Telefonu</th>
                        <th>E-mail</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>@(string.IsNullOrEmpty(Model.website) ? "Bu organizasyon web siteye sahip değildir." : Model.website)</td>
                        <td>@(string.IsNullOrEmpty(Model.isTelefonu2) ? "Bu organizasyon için bir telefon belirtilmemiş." : Model.cepTelefonu)</td>
                        <td>@(string.IsNullOrEmpty(Model.e_mail) ? "Bu organizasyon bir e-maile sahip değildir." : Model.e_mail)</td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th>İş Telefonu</th>
                        <th>İş Telefonu - 2</th>
                        <th>Roller/Unvanlar</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>@(string.IsNullOrEmpty(Model.isTelefonu) ? "Bu organizasyon bir iş telefonuna sahip değildir." : Model.isTelefonu)</td>
                        <td>@(string.IsNullOrEmpty(Model.isTelefonu2) ? "Bu organizasyon 2. bir iş telefonuna sahip değildir." : Model.isTelefonu2)</td>
                        <td>
                            @if (ViewBag.KulaniciRolleri != null)
                            {
                                <ol>
                                    @foreach (var rol in ViewBag.KullaniciRolleri)
                                    {
                                        <li>
                                            <span style="vertical-align: middle;">@rol.rolAdi</span>
                                            <span class="material-symbols-outlined" style="vertical-align: middle;">check_circle</span>
                                        </li>
                                    }
                                </ol>
                            }
                            else
                            {
                                <p>Herhangi bir rol/ünvan mevcut değil.</p>
                            }

                        </td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th colspan="3">Tercih Edilen İletişim</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="3">@(string.IsNullOrEmpty(Model.tercihEdilenIletisim.ToString()) ? "Tercih edilen iletişim belirtilmemiş." : ViewBag.MevcutIletisimListesi.tercihEdilenIletisimAdi)</td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th colspan="3">Yetki Grubu</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        @if (Model.yetkiGrubuID != null)
                        {
                        <td colspan="3">@ViewBag.MevcutYetki.yetkiGrubu</td>
                        }
                        else
                        {
                         <td colspan="3">Herhangi bir yetki grubuna dahil değil.</td>
                        }
                    </tr>
                </tbody>
                <thead>
                    <tr>

                        <th colspan="3" style="text-align: center">Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="3" style="text-align: center">@(string.IsNullOrEmpty(Model.description) ? "Bu organizasyon ile ilgili herhangi bir açıklama mevcut değildir." : Model.description)</td>
                    </tr>
                </tbody>
            </table>
        }
        else
        {
            <p style="text-align:center">@Model.isim adlı <strong>kişinin</strong> iletişim detayları:</p>
            <table class="table table-striped table-bordered">
                <thead class="bg-primary text-light">
                    <tr>
                        <th>Adı</th>
                        <th>Soy İsim</th>
                        <th>Ülke</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>@Model.isim</td>
                        <td>@Model.soyAdi</td>
                        <td>@Model.Ulke</td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th>Bağlı Olduğu Organizasyon</th>
                        <th>E-mail</th>
                        <th>Cep Telefonu</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        @if (Model.organizasyonAtama != 0)
                        {
                            <td>@ViewBag.bagliOlduguOrganizasyon</td>
                        }
                        else
                        {
                            <td>Herhangi bir organizasyona bağlı değil.</td>
                        }
                         <td>@(string.IsNullOrEmpty(Model.e_mail) ? "Bu kişi için bir e-mail belirtilmemiş." : Model.e_mail)</td>
                        <td>@(string.IsNullOrEmpty(Model.cepTelefonu) ? "Cep telefon belirtilmemiş. " : Model.cepTelefonu)</td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th>E-mail - 2</th>
                        <th>İş Telefonu</th>
                        <th>İş Telefonu - 2</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>@(string.IsNullOrEmpty(Model.e_mail2) ? "Bu kişi 2. bir e-mail adresine sahip değildir." : Model.e_mail2)</td>
                        <td>@(string.IsNullOrEmpty(Model.isTelefonu) ? "Bu kişi bir iş telefonuna sahip değildir." : Model.isTelefonu)</td>
                        <td>@(string.IsNullOrEmpty(Model.isTelefonu2) ? "Bu kişi 2. bir iş telefonuna sahip değildir." : Model.isTelefonu2)</td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th>Tercih Edilen İletişim</th>
                        <th>Yetki Grubu</th>
                        <th>Roller/Unvanlar</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>@(string.IsNullOrEmpty(Model.tercihEdilenIletisim.ToString()) ? "Tercih edilen iletişim belirtilmemiş." : ViewBag.MevcutIletisimListesi.tercihEdilenIletisimAdi)</td>
                        <td>@(string.IsNullOrEmpty(Model.yetkiGrubuID.ToString()) ? "Yetki grubu mevcut değil." : ViewBag.MevcutYetki.yetkiGrubu)</td>
                        <td>
                            @if (ViewBag.KullaniciRolleri != null)
                            {
                                foreach (var rol in ViewBag.KullaniciRolleri)
                                {

                                    <span style="vertical-align: middle">@rol.rolAdi</span>
                                    <span class="material-symbols-outlined" style="vertical-align: middle;">check_circle</span>

                                }
                            }
                            else
                            {
                                <p>Herhangi bir rol/unvan belirtilmemiş.</p>
                            }

                        </td>
                    </tr>
                </tbody>
              
            </table>    
        }

        <!--- ORGANİZASYON YA DA NORMAL KULLANICIYA GÖRE DİV ÜZERİNDE BELİRTTİĞİMİZ İDLER İLE HİDE/SHOW YAPAYACAĞIZ.-->
    </div>
</div>